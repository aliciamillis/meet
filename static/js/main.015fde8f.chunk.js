(this.webpackJsonpmeet=this.webpackJsonpmeet||[]).push([[0],{134:function(e,t,n){},216:function(e,t,n){},217:function(e,t,n){},240:function(e,t,n){},370:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(58),s=n.n(o),i=(n(216),n(24)),c=n(32),l=n(25),u=n(26),h=(n(134),n(217),n(379)),d=n(4),p=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={show:!1},e.handleClick=function(){e.setState({show:!e.state.show})},e}return Object(c.a)(n,[{key:"render",value:function(){return Object(d.jsx)(h.a,{className:"Event",id:this.props.id,children:Object(d.jsxs)(h.a.Body,{children:[Object(d.jsxs)("div",{className:"dates",children:[Object(d.jsx)("div",{className:"event__str"}),Object(d.jsx)("div",{className:"event__end"})]}),Object(d.jsxs)("div",{className:"event__summary",children:[Object(d.jsx)("h3",{children:this.props.event.summary}),Object(d.jsx)("div",{className:"event__location",children:this.props.event.location}),Object(d.jsx)("button",{className:"detailsBtn",onClick:this.handleClick,children:"Details"})]}),this.state.show&&Object(d.jsx)("div",{className:"EventDetail",children:Object(d.jsxs)("div",{className:"event__description",children:[this.props.event.description," "]})})]})})}}]),n}(r.a.Component),f=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.events;return Object(d.jsx)("div",{className:"EventList",children:e&&e.map((function(e,t){return Object(d.jsx)(p,{event:e,id:t},e.id)}))})}}]),n}(a.Component),v=n(377),m=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).getStyle=function(){return{color:a.color}},a.color=null,a}return Object(c.a)(n,[{key:"render",value:function(){return Object(d.jsx)("div",{className:"Alert",children:Object(d.jsx)("p",{style:this.getStyle(),children:this.props.text})})}}]),n}(a.Component),g=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).color="blue",a}return n}(m),b=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).color="red",a}return n}(m),j=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={locations:e.props.locations,query:"",suggestions:[],showSuggestions:!1,infoText:""},e.handleInputChanged=function(t){var n=t.target.value;e.setState({showSuggestions:!0});var a=e.props.locations.filter((function(e){return e.toUpperCase().indexOf(n.toUpperCase())>-1}));if(0!==a.length)return e.setState({query:n,suggestions:a,infoText:""});e.setState({query:n,infoText:"We can not find the city you are looking for. Please try another city"})},e.handleItemClicked=function(t){e.setState({query:t,suggestions:[],showSuggestions:!1}),e.props.updateEvents(t)},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.state.value;return Object(d.jsxs)("div",{className:"CitySearch",children:["Search for events in:",Object(d.jsx)(v.a.Control,{type:"text",className:"city",value:t,onChange:this.handleInputChanged}),Object(d.jsxs)("ul",{className:this.state.showSuggestions?"suggestions showSuggestions":"display-none",children:[Object(d.jsx)(g,{text:this.state.infoText}),this.state.suggestions.map((function(t){return Object(d.jsx)("li",{className:"suggested",onClick:function(){return e.handleItemClicked(t)},children:t},t)})),Object(d.jsx)("li",{onClick:function(){return e.handleItemClicked("all")},children:Object(d.jsx)("b",{children:"See all cities"})})]})]})}}]),n}(a.Component),w=n(35),O=n.n(w),y=n(79),x=n(205),k=[{kind:"calendar#event",etag:'"3181161784712000"',id:"4eahs9ghkhrvkld72hogu9ph3e_20200519T140000Z",status:"confirmed",htmlLink:"https://www.google.com/calendar/event?eid=NGVhaHM5Z2hraHJ2a2xkNzJob2d1OXBoM2VfMjAyMDA1MTlUMTQwMDAwWiBmdWxsc3RhY2t3ZWJkZXZAY2FyZWVyZm91bmRyeS5jb20",created:"2020-05-19T19:17:46.000Z",updated:"2020-05-27T12:01:32.356Z",summary:"Learn JavaScript",description:"Have you wondered how you can ask Google to show you the list of the top ten must-see places in London? And how Google presents you the list? How can you submit the details of an application? Well, JavaScript is doing these. :) \n\nJavascript offers interactivity to a dull, static website. Come, learn JavaScript with us and make those beautiful websites.",location:"London, UK",creator:{email:"fullstackwebdev@careerfoundry.com",self:!0},organizer:{email:"fullstackwebdev@careerfoundry.com",self:!0},start:{dateTime:"2020-05-19T16:00:00+02:00",timeZone:"Europe/Berlin"},end:{dateTime:"2020-05-19T17:00:00+02:00",timeZone:"Europe/Berlin"},recurringEventId:"4eahs9ghkhrvkld72hogu9ph3e",originalStartTime:{dateTime:"2020-05-19T16:00:00+02:00",timeZone:"Europe/Berlin"},iCalUID:"4eahs9ghkhrvkld72hogu9ph3e@google.com",sequence:0,reminders:{useDefault:!0},eventType:"default"},{kind:"calendar#event",etag:'"3181159875584000"',id:"3qtd6uscq4tsi6gc7nmmtpqlct_20200520T120000Z",status:"confirmed",htmlLink:"https://www.google.com/calendar/event?eid=M3F0ZDZ1c2NxNHRzaTZnYzdubW10cHFsY3RfMjAyMDA1MjBUMTIwMDAwWiBmdWxsc3RhY2t3ZWJkZXZAY2FyZWVyZm91bmRyeS5jb20",created:"2020-05-19T19:14:30.000Z",updated:"2020-05-27T11:45:37.792Z",summary:"React is Fun",description:"Love HTML, CSS, and JS? Want to become a cool front-end developer? \n\nReact is one of the most popular front-end frameworks. There is a huge number of job openings for React developers in most cities. \n\nJoin us in our free React training sessions and give your career a new direction. ",location:"Berlin, Germany",creator:{email:"fullstackwebdev@careerfoundry.com",self:!0},organizer:{email:"fullstackwebdev@careerfoundry.com",self:!0},start:{dateTime:"2020-05-20T14:00:00+02:00",timeZone:"Europe/Berlin"},end:{dateTime:"2020-05-20T15:00:00+02:00",timeZone:"Europe/Berlin"},recurringEventId:"3qtd6uscq4tsi6gc7nmmtpqlct",originalStartTime:{dateTime:"2020-05-20T14:00:00+02:00",timeZone:"Europe/Berlin"},iCalUID:"3qtd6uscq4tsi6gc7nmmtpqlct@google.com",sequence:0,reminders:{useDefault:!0},eventType:"default"}],S=n(124),C=n.n(S),T=n(80),N=n.n(T),E=function(e){var t=e.map((function(e){return e.location}));return Object(x.a)(new Set(t))},A=function(){var e=Object(y.a)(O.a.mark((function e(){var t,n,a,r,o,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N.a.start(),navigator.onLine||window.location.href.startsWith("http://localhost")){e.next=6;break}return t=localStorage.getItem("lastEvents"),n=localStorage.getItem("locations"),N.a.done(),e.abrupt("return",{events:JSON.parse(t).events,locations:JSON.parse(n)});case 6:if(!window.location.href.startsWith("http://localhost")){e.next=9;break}return N.a.done(),e.abrupt("return",{events:k,locations:E(k)});case 9:return e.next=11,Z();case 11:if(!(a=e.sent)){e.next=21;break}return F(),r="https://82y29j2ihl.execute-api.ca-central-1.amazonaws.com/dev/api/get-events/".concat(a,"/32"),e.next=17,C.a.get(r);case 17:return(o=e.sent).data&&(s=E(o.data.events),localStorage.setItem("lastEvents",JSON.stringify(o.data)),localStorage.setItem("locations",JSON.stringify(s))),N.a.done(),e.abrupt("return",{events:o.data.events,locations:s});case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){if(window.history.pushState&&window.location.pathname){var e=window.location.protocol+"//"+window.location.host+window.location.pathname;window.history.pushState("","",e)}else e=window.location.protocol+"//"+window.location.host,window.history.pushState("","",e)},Z=function(){var e=Object(y.a)(O.a.mark((function e(){var t,n,a,r,o,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("access_token"),e.t0=t,!e.t0){e.next=6;break}return e.next=5,W(t);case 5:e.t0=e.sent;case 6:if(n=e.t0,t&&!n.error){e.next=21;break}return e.next=10,localStorage.removeItem("access_token");case 10:return a=new URLSearchParams(window.location.search),e.next=13,a.get("code");case 13:if(r=e.sent){e.next=20;break}return e.next=17,C.a.get("https://82y29j2ihl.execute-api.ca-central-1.amazonaws.com/dev/api/get-auth-url");case 17:return o=e.sent,s=o.data.authUrl,e.abrupt("return",window.location.href=s);case 20:return e.abrupt("return",r&&_(r));case 21:return e.abrupt("return",t);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(y.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.googleapis.com/oauth2/v1/tokeninfo?access_token=".concat(t)).then((function(e){return e.json()})).catch((function(e){return e.json()}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(y.a)(O.a.mark((function e(t){var n,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=encodeURIComponent(t),e.next=3,fetch("https://82y29j2ihl.execute-api.ca-central-1.amazonaws.com/dev/api/token/".concat(n)).then((function(e){return e.json()})).catch((function(e){return e}));case 3:return a=e.sent,(r=a.access_token)&&localStorage.setItem("access_token",r),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=(n(240),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={length:32},e.handleChange=function(t){var n=t.target.value;e.setState({length:+n}),n<=0?e.setState({message:"Number should be greater than 0"}):(e.setState({message:null}),e.props.updateNumberOfEvents(+n))},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.state,t=e.length,n=e.message;return Object(d.jsxs)("div",{className:"NumberOfEvents",children:[n&&Object(d.jsx)(b,{text:n}),"Show"," ",Object(d.jsx)("input",{className:"eventCount",value:t,name:"eventCount",onChange:this.handleChange})," ","Events"]})}}]),n}(r.a.Component));var D=function(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("h1",{children:"Welcome to the Meet App"}),Object(d.jsx)("h2",{children:"Please Read the Following"}),Object(d.jsxs)("p",{children:["The Meet App is a project given to students who are part of the Full Stack Web Development Course at CareerFoundry. The intent of creating this app is to learn skills in building a serverless, progressive web application with React using a test-driven development technique. In addition, it uses the Google Calendar API to fetch upcoming web development events from a calendar that the curriculum team at CareerFoundry have created for this sole purpose. (Essentially, the app displays 2 informational charts depicting the number of events and popularity, and a list of events based on user input.) The login prompt is meant to demonstrate skills in using an API and OAuth2 authentication flow.",Object(d.jsx)("strong",{children:"This website is purely for educational purposes and has no commercial intent or use."}),"As stated in the privacy policy, no personal data is collected or saved at any stage. Furthermore, the application is meant to be part of a portfolio that all CareerFoundry students work towards completing as they progress through the curriculum. As such, this application is meant to showcase the skills learned during the Full Stack immersion of the CareerFoundry program, fulfilling the requirement to add to one's own portfolio. Please refer to the privacy policy if needed. "]})," ",Object(d.jsx)("br",{}),Object(d.jsx)("h4",{children:"Please log in to use the application"}),Object(d.jsx)("div",{className:"button_cont",align:"center",children:Object(d.jsxs)("div",{class:"google-btn",children:[Object(d.jsx)("div",{class:"google-icon-wrapper",children:Object(d.jsx)("img",{class:"google-icon",src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"Google sign-in"})}),Object(d.jsx)("a",{href:"https://accounts.google.com/o/oauth2/v2/auth?access_type=offline&scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcalendar.readonly&response_type=code&client_id=239876640593-kac7khsulakidhvluo039913q9lgf0vf.apps.googleusercontent.com&redirect_uri=https%3A%2F%2Fveemae.github.io%2Fmeet-app%2F",rel:"nofollow noopener",class:"btn-text",children:Object(d.jsx)("b",{children:"Sign in with Google"})})]})}),Object(d.jsx)("a",{href:"https://aliciamillis.github.io/meet/privacyPolicy.html",className:"privacyLink",rel:"nofollow noopener",children:"Privacy Policy"})]})},L=n(31),q=n(381),M=n(380),B=n(196),J=n(99),R=n(78),P=function(e){var t=e.events,n=Object(a.useState)([]),r=Object(L.a)(n,2),o=r[0],s=r[1];Object(a.useEffect)((function(){s((function(){return i()}))}),[t]);var i=function(){return["React","JavaScript","Node","jQuery","Angular"].map((function(e){var n=t.filter((function(t){return t.summary.split(" ").includes(e)})).length;return{name:e,value:n}}))},c=["#6D6875","#B5838D","#FFB4A2","#2A2E45","#81A094"];return Object(d.jsx)(q.a,{height:400,children:Object(d.jsxs)(M.a,{children:[Object(d.jsx)(B.a,{data:o,cx:"47%",cy:"50%",labelLine:!1,legendType:"square",outerRadius:80,fill:"#8884d8",datakey:"value",label:function(e){var t=e.name,n=e.percent;return"".concat(t," ").concat((100*n).toFixed(0),"%")},children:o.map((function(e,t){return Object(d.jsx)(J.a,{fill:c[t%c.length],name:e.name},"cell-".concat(t))}))}),Object(d.jsx)(R.a,{layout:"horizontal",align:"center",verticalAlign:"top"})]})})},U=n(374),z=n(375),G=n(376),H=n(201),Y=n(202),V=n(83),K=n(206),X=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={events:[],currentLocation:"all",locations:[],filtered:[],numberOfEvents:32},e.updateEvents=function(t){A().then((function(n){var a=e.state,r=a.currentLocation,o=a.numberOfEvents,s="all"===r?n.events:n.events.filter((function(e){return e.location===t})),i=[];return i=s.length?s.slice(0,o):n.events.slice(0,o),e.setState({filtered:i,currentLocation:t})}))},e.getData=function(){var t=e.state,n=t.locations,a=t.events;return n.map((function(e){var t=a.filter((function(t){return t.location===e})).length;return{city:e.split(" ").shift(),number:t}}))},e.updateNumberOfEvents=function(t){e.setState({numberOfEvents:t}),e.updateEvents("")},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,A().then((function(t){e.mounted&&e.setState({events:t.events,locations:t.locations})}))}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.state,t=e.filtered,n=e.locations,a=e.events,r=e.numberOfEvents;return Object(d.jsxs)(U.a,{children:[Object(d.jsx)("h1",{className:"app-name",children:"Meet App"}),Object(d.jsx)(D,{}),Object(d.jsx)(j,{locations:n,updateEvents:this.updateEvents}),Object(d.jsx)(I,{updateNumberOfEvents:this.updateNumberOfEvents,length:r}),Object(d.jsx)("h4",{children:"Events each day"}),Object(d.jsxs)("div",{className:"data-vis-wrapper",children:[Object(d.jsx)(P,{events:a}),Object(d.jsx)(q.a,{height:400,children:Object(d.jsxs)(z.a,{margin:{top:20,right:20,bottom:20,left:20},children:[Object(d.jsx)(G.a,{strokeDasharray:"3 3"}),Object(d.jsx)(H.a,{type:"category",dataKey:"city",name:"city"}),Object(d.jsx)(Y.a,{allowDeciamls:!1,type:"number",dataKey:"number",name:"number of events"}),Object(d.jsx)(V.a,{cursor:{strokeDasharray:"3 3"}}),Object(d.jsx)(K.a,{data:this.getData(),fill:"#8884d8"})]})})]}),Object(d.jsx)(f,{events:t.length?t:a})]})}}]),n}(a.Component),Q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,382)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),o(e),s(e)}))},te=n(203);s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(X,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/meet",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/meet","/service-worker.js");Q?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):$(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):$(t,e)}))}}(),te.config("b2a1e3e3a1364c878276557c90fbb973").install(),ee()}},[[370,1,2]]]);
//# sourceMappingURL=main.015fde8f.chunk.js.map